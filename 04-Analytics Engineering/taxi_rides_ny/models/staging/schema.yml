version: 2

sources:
  - name: staging
    database: iconic-atrium-414416
    schema: trips_data_all

    tables:
      - name: green_taxi
      - name: yellow_taxi

# models:
#     - name: stg_green_tripdata
#       description: >
#         Trip made by green taxis, also known as boro taxis and street-hail liveries.
#         Green taxis may respond to street hails,but only in the areas indicated in green on the
#         map (i.e. above W 110 St/E 96th St in Manhattan and in the boroughs).
#         The records were collected and provided to the NYC Taxi and Limousine Commission (TLC) by
#         technology service providers. 
#       columns:
#           - name: tripid
#             description: Primary key for this table, generated with a concatenation of vendorid+pickup_datetime
#             tests:
#                 - unique:
#                     severity: warn
#                 - not_null:
#                     severity: warn
#           - name: Payment_type 
#             description: >
#               A numeric code signifying how the passenger paid for the trip.
#             tests: 
#               - accepted_values:
#                   values: "{{ var('payment_type_values') }}"
#                   severity: warn
#                   quote: false
#           - name: Pickup_locationid
#             description: locationid where the meter was engaged.
#             tests:
#               - relationships:
#                   to: ref('taxi_zone_lookup')
#                   field: locationid
#                   severity: warn